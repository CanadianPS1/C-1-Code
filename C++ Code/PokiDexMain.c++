#include <iostream>
#include <thread>
#include <windows.h>
#include <mmsystem.h>
using namespace std;
class PokiDexDitto;

class Menu {
public:
    void mainMenu();
    void exitMenu();
    void userMenu();
};

class PokiDexDitto : public Menu {
public:
    void sleep(unsigned int ms);
    void startAnimation();
    void barLinePrint(int amountOfLinesAbove, int amountOfLinesBelow);
    void main();
    void fightMenu(string* health);
};
    
void Menu::mainMenu(){
    system("cls");
    cout<< "\n _______________________________________________________________________________________________________________________________________________________________________________________";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    for(int i = 0; i< 6; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |                                                                                   ~PLAY~                                                                                        | |";
    cout<< "\n | |                                                                                                                                                                                 | |";
    cout<< "\n | |                                                                                   ~USER~                                                                                        | |";
    cout<< "\n | |                                                                                                                                                                                 | |";
    cout<< "\n | |                                                                                   ~EXIT~                                                                                        | |";
    for(int i = 0; i< 12; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n |_|/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////|_|" << endl;  
    string* userInput = new string;
    while(true){
        cin>> *userInput;
        for(int i = 0; userInput->length() > i; i++){
            (*userInput)[i] = tolower((*userInput)[i]);
        }
        if(userInput->compare("play") == 0){
            delete userInput;
            PokiDexDitto mode;
            mode.main();
            break;
        }else if(userInput->compare("user") == 0){
            delete userInput;
            userMenu();
            break;
        }else if(userInput->compare("exit") == 0){
            delete userInput;
            exitMenu();
            break;
        }
    }
}
void Menu::exitMenu(){
    system("cls");
    cout<< "\n _______________________________________________________________________________________________________________________________________________________________________________________";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    for(int i = 0; i< 11; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |                                                                           ~Thank You for Playing~                                                                               | |";
    for(int i = 0; i< 11; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n |_|/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////|_|" << endl;  
    exit(0);
}
void Menu::userMenu(){
    system("cls");
    cout<< "\n _______________________________________________________________________________________________________________________________________________________________________________________";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    for(int i = 0; i< 6; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |                                                                                ~LIST USERS~                                                                                     | |";
    cout<< "\n | |                                                                                                                                                                                 | |";
    cout<< "\n | |                                                                                 ~ADD USER~                                                                                      | |";
    cout<< "\n | |                                                                                                                                                                                 | |";
    cout<< "\n | |                                                                               ~SELECT USER~                                                                                     | |";
    cout<< "\n | |                                                                                                                                                                                 | |";
    cout<< "\n | |                                                                                   ~BACK~                                                                                        | |";
    
    for(int i = 0; i< 10; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n |_|/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////|_|" << endl;
    string* userInput = new string;
    while(true){
        cin>> *userInput;
        for(int i = 0; userInput->length() > i; i++){
            (*userInput)[i] = tolower((*userInput)[i]);
        }
        if(userInput->compare("list") == 0){
            delete userInput;
            cout<< "listing";
            break;
        }else if(userInput->compare("add") == 0){
            delete userInput;
            cout<< "adding";
            break;
        }else if(userInput->compare("select") == 0){
            delete userInput;
            cout<< "selecting";
            break;
        }else if(userInput->compare("back") == 0){
            delete userInput;
            mainMenu();
            break;
        }
    }
}

//the method just makes it so i dont have to type all this out every time
void PokiDexDitto::sleep(unsigned int ms){
    this_thread::sleep_for(chrono::milliseconds(ms));
}
//prints out the intro fight animation
void PokiDexDitto::startAnimation(){
    //prints the middle bars
    barLinePrint(0,22);
    barLinePrint(2,20);
    barLinePrint(4,18);
    barLinePrint(6,16);
    barLinePrint(8,14);
    barLinePrint(10,12);
    barLinePrint(12,10);
    barLinePrint(14,8);
    barLinePrint(16,6);
    barLinePrint(18,4);
    barLinePrint(20,2);
    barLinePrint(22,0);
}
//prints the bars with an varuble amount of bars on top of them
void PokiDexDitto::barLinePrint(int amountOfLinesAbove, int amountOfLinesBelow){
    cout<< "\n _______________________________________________________________________________________________________________________________________________________________________________________";
    cout<< "\n | |////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    for(int i = 0; i < amountOfLinesAbove; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |                                                                                                                                                                                 | |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    for(int i = 0; i < amountOfLinesBelow; i++){
        cout<< "\n | |                                                                                                                                                                                 | |";
    }
    cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
    cout<< "\n | |////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
    cout<< "\n |_|////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////|_|" << endl;  
    sleep(10);
    system("cls");
}
void PokiDexDitto::main(){
    string* health = new string;
    *health = "<3  <3  <3  <3  <3  <3 ";
    //PlaySound(TEXT("PokemonBattleStartSound.wav"), NULL, SND_FILENAME | SND_ASYNC);
    //plays the start animation
    startAnimation();
    startAnimation();
    startAnimation();
    fightMenu(health);
}
void PokiDexDitto::fightMenu(string* health){
    system("cls");
    if(health->compare("</3 </3 </3 </3 </3 </3") == 1){
        cout<< "\n _______________________________________________________________________________________________________________________________________________________________________________________";
        cout<< "\n | |////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
        cout<< "\n | |////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
        cout<< "\n | |----------------------------------------------------||---------------------------------------------------------------------------------------------------------------------------| |";
        cout<< "\n | |                                                    ||                                                                                                                           | |";
        cout<< "\n | |                        HP                          ||                                                                                                                           | |";
        cout<< "\n | |              " <<*health<< "               ||                                                                                                                           | |";
        cout<< "\n | |                                                    ||                                                                                                                           | |";
        cout<< "\n | |        (1) Goo Punch    (2) Goo Shot               ||                                                                                                                           | |";
        cout<< "\n | |                                                    ||                                                                                                                           | |";
        cout<< "\n | |        (3) Goo Get      (4) Goo Form               ||                                                                                                                           | |";
        for(int i = 0; i< 4; i++){
            cout<< "\n | |                                                    ||                                                                                                                           | |";
        }
        for(int i = 0; i< 12; i++){
            cout<< "\n | |                                                    ||                                                                                                                           | |";
        }
        cout<< "\n | |----------------------------------------------------||---------------------------------------------------------------------------------------------------------------------------| |";
        cout<< "\n | |////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
        cout<< "\n |_|////////////////////////////////////////////////////||///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////|_|" << endl;  
    }else{
        cout<< "\n _______________________________________________________________________________________________________________________________________________________________________________________";
        cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
        cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
        cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
        for(int i = 0; i< 6; i++){
            cout<< "\n | |                                                                                                                                                                                 | |";
        }
        cout<< "\n | |                                                                                ~GAME OVER~                                                                                      | |";
        cout<< "\n | |                                                                                                                                                                                 | |";
        cout<< "\n | |                                                                                ~PLAY AGAIN~                                                                                     | |";
        cout<< "\n | |                                                                                                                                                                                 | |";
        cout<< "\n | |                                                                                ~MAIN MENU~                                                                                      | |";
        cout<< "\n | |                                                                                                                                                                                 | |";
        cout<< "\n | |                                                                                  ~QUIT~                                                                                         | |";
        
        for(int i = 0; i< 10; i++){
            cout<< "\n | |                                                                                                                                                                                 | |";
        }
        cout<< "\n | |---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| |";
        cout<< "\n | |/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////| |";
        cout<< "\n |_|/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////|_|" << endl;
        string* userInput = new string;
        while(true){
            cin>> *userInput;
            for(int i = 0; userInput->length() > i; i++){
                (*userInput)[i] = tolower((*userInput)[i]);
            }
            if(userInput->compare("play") == 0){
                delete userInput;
                delete health;
                main();
                break;
            }else if(userInput->compare("main") == 0){
                delete userInput;
                delete health;
                mainMenu();
                break;
            }else if(userInput->compare("quit") == 0){
                delete userInput;
                delete health;
                exitMenu();
                break;
            }
        }
    }
}
class Main{
    public:
    void mainExtraVersion(){
        Menu player;
        player.mainMenu();
    }
};
int main(){
    Main pokimonMode;
    pokimonMode.mainExtraVersion();
    return 0;
}